# PRODUCERS AVENUE V2 - QUICK REFERENCE GUIDE

**Version:** 2.0  
**Last Updated:** November 5, 2025

---

## ğŸš€ Start Here

### Essential Documents (Read First)
1. **00_CHANGES_SUMMARY.md** - What was fixed and why
2. **01_TECH_STACK_ARCHITECTURE.md** - Tech decisions and infrastructure
3. **02_DATABASE_SCHEMA.md** - Complete database structure
4. **03_FEATURES_USER_ROLES.md** - What users can do
5. **04_DEVELOPMENT_ROADMAP.md** - Build timeline and priorities

---

## ğŸ“‹ Key Decisions

### Hosting & Deployment
- **Platform:** Vercel (automatic from GitHub)
- **Domain:** producersavenue.com
- **SSL:** Automatic (Vercel)
- **CI/CD:** GitHub Actions

### Database
- **Provider:** Supabase (PostgreSQL 15+)
- **Auth:** Supabase Auth
- **Storage:** Supabase Storage (small files) + Bunny.net (large files)
- **Realtime:** Supabase Realtime (messages, notifications)

### Payments
- **Primary:** Stripe (Connect + Subscriptions)
- **Backup:** PayPal (Phase 2)
- **Fees:** All paid by sellers, buyers pay listed price

### Media Storage
- **CDN:** Bunny.net
- **Use:** Digital products, audio/video files
- **Cost:** $0.01/GB storage, $0.01-0.03/GB bandwidth

---

## ğŸ”‘ Critical Features

### Smart Link (Strategic Decision)
- **Field Name:** `smart_link` (TEXT)
- **Validation:** Only rolink.me URLs
- **Pattern:** `^https?://(www\.)?rolink\.me/.+$`
- **Why:** Partnership with Release Organizer
- **UI:** Single "View All My Links" button

### Commission Structure
- Basic: 40% platform commission
- Standard: 30%
- Premium: 20%
- Ultimate: 10%
- Ultimate for Friends: 10% (admin-assigned, free)

### Following System
- **Type:** Hybrid (one-way + mutual detection)
- **Display:** "Following/Followers" OR "Connected" badge
- **Storage:** Single `followers` table, query both directions

---

## ğŸ—„ï¸ Database Quick Reference

### Core Tables
```
users (Supabase Auth - managed)
â””â”€â”€ user_profiles (smart_link TEXT)
    â”œâ”€â”€ user_categories
    â”œâ”€â”€ user_skills
    â”œâ”€â”€ user_genres
    â””â”€â”€ subscriptions (tier, status)

posts
â”œâ”€â”€ post_likes
â””â”€â”€ comments

products (seller_id)
services (seller_id, is_mentoring)
orders (service_id, buyer_id, seller_id)

conversations
â””â”€â”€ messages

wallets
â”œâ”€â”€ transactions
â””â”€â”€ payouts
```

### Key Field: smart_link
```sql
-- user_profiles table
smart_link TEXT 
CHECK (
  smart_link IS NULL OR 
  smart_link ~* '^https?://(www\.)?rolink\.me/.+$'
)
```

---

## ğŸ¨ Tech Stack at a Glance

### Frontend
- **Framework:** Next.js 14+ (App Router)
- **Language:** TypeScript
- **Styling:** Tailwind CSS
- **Components:** shadcn/ui + Radix UI
- **Forms:** React Hook Form + Zod
- **State:** React Context (+ Zustand if needed)

### Backend
- **Database:** Supabase (PostgreSQL)
- **Auth:** Supabase Auth
- **Functions:** Supabase Edge Functions (Deno)
- **Storage:** Supabase Storage + Bunny.net
- **Realtime:** Supabase Realtime

### Third-Party Services
- **Payments:** Stripe
- **Email:** Resend
- **CDN:** Bunny.net
- **Monitoring:** Sentry (optional)
- **Analytics:** Custom (Phase 1) / PostHog (Phase 2)

---

## ğŸ› ï¸ Development Setup

### Quick Start
```bash
# 1. Clone and install
git clone [repo]
cd producers-avenue-v2
pnpm install

# 2. Start Supabase locally
supabase start

# 3. Run dev server
pnpm dev

# Access:
# App: http://localhost:3000
# Supabase: http://localhost:54323
```

### Environment Variables
```bash
# .env.local
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

BUNNY_STORAGE_API_KEY=
BUNNY_CDN_HOSTNAME=

RESEND_API_KEY=

NEXT_PUBLIC_APP_URL=http://localhost:3000
```

---

## ğŸ“… MVP Timeline (16-18 Weeks)

### Phase 1: Core (Weeks 1-8)
- Week 1-2: Auth & User Management
- Week 2-3: Profiles (with Smart Link)
- Week 3-4: Social Feed
- Week 4-6: Products
- Week 6-7: Services
- Week 7-8: Messaging

### Phase 2: Financial (Weeks 8-10)
- Week 8-9: Subscriptions
- Week 9-10: Wallet & Payouts

### Phase 3: Community (Weeks 10-12)
- Week 10-11: Groups
- Week 11-12: Search

### Phase 4: Polish (Weeks 12-18)
- Week 12-13: Notifications
- Week 13-14: Admin Panel
- Week 14-15: Landing Pages
- Week 15-16: Security & Anti-Scam
- Week 16-17: Chatbot & Support
- Week 17-18: Polish & Testing

---

## ğŸ¯ User Roles Quick Reference

### Member Tiers
| Tier | Price | Products | Commission | Featured |
|------|-------|----------|------------|----------|
| Basic | Free | 3 | 40% | 0 |
| Standard | $9.99/mo | 10 | 30% | 1 |
| Premium | $24.99/mo | 50 | 20% | 3 |
| Ultimate | $99.99/mo | âˆ | 10% | 10 |
| Ultimate (Friends) | Free | âˆ | 10% | 10 |

### Admin Roles
- **Author:** Write articles/news
- **Admin:** Moderate content, approve custom fields
- **Super Admin:** Full platform control

---

## ğŸ”’ Security Checklist

### Must-Have
- âœ… RLS policies on all tables
- âœ… Environment variables properly scoped
- âœ… HTTPS everywhere (Vercel automatic)
- âœ… JWT tokens in httpOnly cookies
- âœ… Stripe webhook signature verification
- âœ… File type validation (whitelist)
- âœ… Size limits on uploads
- âœ… Rate limiting on API endpoints

### Nice-to-Have (Phase 2)
- âš ï¸ Virus scanning (ClamAV)
- âš ï¸ 2FA authentication
- âš ï¸ IP-based rate limiting
- âš ï¸ Suspicious activity detection

---

## ğŸš¦ Deployment Checklist

### Before First Deploy
- [ ] Environment variables configured in Vercel
- [ ] Database migrations applied to Supabase production
- [ ] RLS policies tested
- [ ] Stripe webhooks configured (production)
- [ ] Custom domain configured
- [ ] SSL certificate verified
- [ ] Error tracking setup (Sentry)
- [ ] Test all auth flows
- [ ] Test payment flows (live mode)

### After Deploy
- [ ] Verify site loads
- [ ] Test registration flow
- [ ] Test profile creation (Smart Link validation)
- [ ] Test product purchase
- [ ] Test messaging
- [ ] Check error logs
- [ ] Monitor performance (Lighthouse)

---

## ğŸ“ Support & Resources

### Documentation
- **Full Docs:** 4 main markdown files in `/mnt/user-data/outputs/`
- **Reference Docs:** Additional files in `/mnt/project/`
- **API Docs:** Supabase, Stripe, Bunny.net, Resend

### Key Contacts
- **Supabase:** support@supabase.com
- **Stripe:** https://support.stripe.com
- **Vercel:** https://vercel.com/support
- **Bunny.net:** support@bunny.net

### Communities
- **Next.js:** https://nextjs.org/discord
- **Supabase:** https://discord.supabase.com
- **Stripe:** https://discord.gg/stripe

---

## âš ï¸ Common Pitfalls to Avoid

### 1. Smart Link Field
âŒ **DON'T:** Allow any URL or multiple social links
âœ… **DO:** Validate rolink.me URLs only

### 2. Commission Calculation
âŒ **DON'T:** Charge buyers for platform fees
âœ… **DO:** Deduct all fees from seller earnings

### 3. Following System
âŒ **DON'T:** Create separate "connections" table
âœ… **DO:** Use single followers table, query both directions

### 4. File Storage
âŒ **DON'T:** Store large files in Supabase
âœ… **DO:** Use Bunny.net for products (>10MB)

### 5. Deployment
âŒ **DON'T:** Use static export with Hostinger
âœ… **DO:** Use Vercel with automatic deployment

---

## ğŸ‰ Success Metrics

### Launch Goals (Month 1-3)
- 100 registered users
- 50 active creators
- 10 paid subscribers
- 25 marketplace transactions
- $500 total revenue

### Growth Goals (Month 6-12)
- 1,000 registered users
- 250 active creators
- 100 paid subscribers
- 200 transactions/month
- $5,000 monthly revenue

---

## ğŸ”— Quick Links

### Production URLs (Future)
- **App:** https://producersavenue.com
- **Admin:** https://producersavenue.com/admin
- **API Docs:** https://docs.producersavenue.com
- **Status:** https://status.producersavenue.com

### Development URLs
- **Local App:** http://localhost:3000
- **Supabase Studio:** http://localhost:54323
- **Stripe Dashboard:** https://dashboard.stripe.com

---

## ğŸ’¡ Pro Tips

1. **Always read the skill files first** when implementing document features (docx, pptx, etc.)
2. **Test with real data early** - don't wait until the end
3. **Deploy preview branches often** - Vercel makes this easy
4. **Monitor error logs daily** - catch issues early
5. **Get user feedback continuously** - don't wait for "perfect"
6. **Keep code DRY** - reuse components and utilities
7. **Document as you go** - future you will thank present you
8. **Test on mobile devices** - majority of users are mobile

---

## ğŸš¨ Emergency Contacts

### Critical Issues
1. **Database down:** Check Supabase status, contact support
2. **Payment issues:** Check Stripe dashboard, verify webhooks
3. **Site down:** Check Vercel dashboard, verify deployment
4. **Security breach:** Disable affected features, notify users

---

**This guide covers 95% of what you need to know. For details, refer to the main documentation files.**

**Good luck building! ğŸš€**